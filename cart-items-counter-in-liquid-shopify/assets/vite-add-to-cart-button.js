import{j as r,c as u,r as l}from"./vite-client.js";function p({variantId:t,productTitle:e}){async function c(){if(!t)return;const n=document.querySelector("cart-drawer"),a=n?.getSectionsToRender().map(i=>i.id).join(","),d=await(await fetch(`/cart/add.js${a?`?sections=${a}`:""}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:t,quantity:1})})).json();console.log(d),n?.renderContents&&n.renderContents(d);const s=document.querySelector("#add-to-cart-button");s&&s.dispatchEvent(new CustomEvent("recipient:toggle",{detail:{mode:"add",variantId:t,productTitle:e},bubbles:!0}))}return r.jsxs("button",{onClick:c,children:["Add to cart ",e]})}const o=document.getElementById("add-to-cart-button");if(o){const t=o.dataset.variantId,e=o.dataset.productTitle;t&&e&&u.createRoot(o).render(r.jsx(l.StrictMode,{children:r.jsx(p,{variantId:parseInt(t),productTitle:e})}))}
